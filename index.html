<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Swe-Gam Co. Ltd â€” Pumps â€¢ Solar â€¢ Tools</title>
  <meta name="description" content="Swe-Gam â€” suppliers of pumps, solar systems, turf & forestry tools, borehole drilling and irrigation in The Gambia. Order via WhatsApp +220 763 3543." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    /* ---------- THEME (Modern industrial, clean) ---------- */
    :root{
      --bg:#f5f7fb;
      --nav-bg:#ffffff;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#003b6b;      /* deep blue */
      --accent-2:#ffcc00;    /* warm yellow */
      --wa:#25D366;          /* WhatsApp green */
      --glass: rgba(2,6,23,0.02);
      --radius:12px;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Roboto,Arial,Helvetica,sans-serif;background:var(--bg);color:#0b1320;-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px}

    /* Header */
    header{background:var(--nav-bg);border-bottom:1px solid rgba(10,20,30,0.04);position:sticky;top:0;z-index:80}
    .top{display:flex;align-items:center;gap:16px;padding:12px 18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo-square{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#062f47,#084d68);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-family:Poppins}
    .brand h1{font-size:18px;margin:0;font-family:Poppins}
    .brand p{margin:0;font-size:12px;color:var(--muted)}
    nav.menu{margin-left:28px;display:flex;gap:10px;align-items:center}
    nav.menu a{padding:8px 10px;border-radius:8px;color:var(--muted);font-weight:500}
    nav.menu a:hover{background:var(--glass);color:var(--accent)}
    .actions{margin-left:auto;display:flex;gap:8px;align-items:center}
    .btn{background:var(--accent-2);color:#071226;padding:8px 12px;border-radius:10px;font-weight:700}
    .btn-ghost{padding:8px 10px;border-radius:10px;border:1px solid rgba(10,20,30,0.06);color:var(--muted);background:transparent}

    /* Hero */
    .hero{background:linear-gradient(90deg, rgba(0,62,103,0.95), rgba(0,48,78,0.95));color:#fff;border-radius:14px;padding:28px;margin:18px 0;display:grid;grid-template-columns:1fr 340px;gap:18px;align-items:center}
    .hero h2{margin:0;font-family:Poppins;font-size:26px}
    .hero p{margin:10px 0 0;color:rgba(255,255,255,0.9)}
    .hero .cta{margin-top:14px;display:flex;gap:10px}
    .hero .pill{background:rgba(255,255,255,0.06);padding:8px 10px;border-radius:999px;font-weight:600;color:#dbeaf6}

    /* Layout */
    .layout{display:grid;grid-template-columns:220px 1fr;gap:18px;margin-bottom:24px}
    @media(max-width:980px){.layout{grid-template-columns:1fr}}
    .sidebar{background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(10,20,30,0.04)}
    .side-title{font-weight:700;margin-bottom:8px}
    .filter-group{margin-top:12px}
    .cat-button{display:block;padding:8px;border-radius:8px;color:var(--muted);cursor:pointer}
    .cat-button.active{background:linear-gradient(90deg,rgba(0,59,107,0.06),rgba(255,204,0,0.04));color:var(--accent);font-weight:700;border-left:3px solid var(--accent)}

    /* Catalog */
    .catalog{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
    .card{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(10,20,30,0.04);display:flex;flex-direction:column;gap:10px}
    .card .img{height:170px;border-radius:8px;overflow:hidden;background:#071427;display:flex;align-items:center;justify-content:center}
    .card h3{margin:0;font-size:15px}
    .meta{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .muted{color:var(--muted);font-size:13px}
    .price{font-weight:800;color:var(--accent)}
    .specs{font-size:13px;color:var(--muted);min-height:36px}
    .actions{display:flex;gap:8px;margin-top:auto}
    .btn-order{background:var(--wa);color:#052018;padding:8px 10px;border-radius:8px;border:none;font-weight:700;cursor:pointer}

    /* Modal */
    .backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.65);display:none;align-items:center;justify-content:center;z-index:120}
    .modal{width:95%;max-width:900px;background:#fff;border-radius:12px;padding:16px;color:#071226}
    .modal-grid{display:grid;grid-template-columns:1fr 360px;gap:14px}
    .modal .img-large{border-radius:8px;height:320px;overflow:hidden;background:#f1f5f9}
    .modal h2{margin:0;font-size:20px;font-family:Poppins}
    .spec-list{list-style:none;padding:0;margin:10px 0;color:#334155}
    .close-btn{background:transparent;border:0;font-size:18px;color:#334155;cursor:pointer}

    /* Footer */
    footer{padding:22px;text-align:center;color:var(--muted)}

    /* Floating WA */
    .float-wa{position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,#25D366,#1fb954);padding:14px;border-radius:999px;color:#052018;font-weight:800;box-shadow:0 10px 30px rgba(2,6,23,0.2);z-index:140;border:none;cursor:pointer}

    /* Responsive */
    @media(max-width:720px){
      .hero{grid-template-columns:1fr}
      .modal-grid{grid-template-columns:1fr}
      .card .img{height:140px}
      .layout{gap:12px}
    }

    /* utility */
    .small{font-size:13px;color:var(--muted)}
    .center{display:flex;align-items:center;justify-content:center}
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="wrap top">
      <div class="brand">
        <div class="logo-square" aria-hidden="true">SG</div>
        <div>
          <h1>Swe-Gam Co. Ltd</h1>
          <p>Reliable Water â€¢ Solar â€¢ Tools â€” Serving The Gambia</p>
        </div>
      </div>

      <nav class="menu" role="navigation" aria-label="Main menu">
        <a href="#shop">Shop</a>
        <a href="#services">Services</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>

      <div class="actions">
        <a class="btn-ghost" href="#services">Book Service</a>
        <a class="btn" href="#shop">Browse Products</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="wrap hero" aria-labelledby="hero-title">
    <div>
      <h2 id="hero-title">Reliable pumps, solar systems and tools â€” trusted nationwide</h2>
      <p>Quality-imported equipment, professional installation and fast after-sales support. Browse categories, view specifications & order instantly on WhatsApp.</p>

      <div class="hero-actions" style="margin-top:14px">
        <a class="btn" href="#shop">Shop Now</a>
        <button class="btn-ghost" onclick="openWhatsApp('Hello Swe-Gam, I want help selecting a product')">Message Sales</button>
      </div>

      <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap">
        <div class="pill">Borehole Drilling</div>
        <div class="pill">Solar Pump Kits</div>
        <div class="pill">Husqvarna Tools</div>
        <div class="pill">Irrigation Parts</div>
      </div>
    </div>

    <aside style="display:flex;flex-direction:column;gap:12px">
      <div style="background:#fff;border-radius:10px;padding:12px;color:#071226">
        <strong>Order & Pay</strong>
        <p class="small" style="margin:6px 0">Order via WhatsApp: <strong>+220 763 3543</strong><br/>Payments: Wave & QMoney accepted. Wave QR can be shared on WhatsApp after order confirmation.</p>
        <div style="display:flex;gap:8px">
          <button class="btn-order" onclick="openWhatsApp('Hello Swe-Gam, I want to place an order')">Message +220 763 3543</button>
        </div>
      </div>

      <div style="background:#fff;border-radius:10px;padding:12px;color:#071226">
        <strong>Services</strong>
        <p class="small" style="margin:6px 0">Borehole drilling, pump installation, solar mounting, irrigation design & maintenance. Book site visits via WhatsApp.</p>
      </div>
    </aside>
  </section>

  <!-- MAIN LAYOUT -->
  <main class="wrap layout" id="shop">
    <!-- SIDEBAR FILTERS -->
    <aside class="sidebar" aria-label="Filters">
      <div class="side-title">Categories</div>
      <div id="categoryList" class="cat-list">
        <!-- filled by JS -->
      </div>

      <div class="filter-group">
        <div class="side-title">Origin</div>
        <div id="originList" class="cat-list"></div>
      </div>

      <div class="filter-group">
        <div class="side-title">Search</div>
        <input id="search" type="search" placeholder="Search model, spec or brand" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(10,20,30,0.04)"/>
      </div>

      <div class="filter-group">
        <div class="side-title">Price range (GMD)</div>
        <input id="minPrice" type="number" placeholder="Min" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(10,20,30,0.04);margin-bottom:8px"/>
        <input id="maxPrice" type="number" placeholder="Max" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(10,20,30,0.04)"/>
        <div style="margin-top:8px"><button class="btn" id="applyPrice">Apply</button> <button class="btn-ghost" id="resetFilters">Reset</button></div>
      </div>
    </aside>

    <!-- CATALOG -->
    <section>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
        <div>
          <h3 style="margin:0">Products</h3>
          <div class="small" id="resultsInfo">Showing all items</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <div class="small">Sort:</div>
          <select id="sortBy" style="padding:8px;border-radius:8px;border:1px solid rgba(10,20,30,0.04)">
            <option value="featured">Featured</option>
            <option value="priceAsc">Price: Low â†’ High</option>
            <option value="priceDesc">Price: High â†’ Low</option>
          </select>
        </div>
      </div>

      <div id="catalog" class="catalog" aria-live="polite"></div>

      <div style="margin-top:16px" class="small">Note: Prices shown are indicative. Final price & availability will be confirmed on WhatsApp.</div>
    </section>
  </main>

  <!-- SERVICES & ABOUT (brief) -->
  <section class="wrap" id="services" style="margin-bottom:18px">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
      <div class="card">
        <h4 style="margin-top:0">Borehole Drilling</h4>
        <p class="small">Complete drilling packages, casing, submersible pump installation, and testing. We provide long-term support.</p>
      </div>
      <div class="card">
        <h4 style="margin-top:0">Irrigation & Solar</h4>
        <p class="small">Design and install solar-powered irrigation systems including automated drip systems for smallholder farms.</p>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="wrap" id="contact" style="margin-bottom:28px">
    <div class="card" style="display:flex;align-items:center;justify-content:space-between">
      <div>
        <strong>Swe-Gam Co. Ltd</strong>
        <div class="small" style="margin-top:6px">Sales: <strong>+220 763 3543</strong> | Office: <strong>+220 437 3829</strong></div>
        <div class="small" style="margin-top:6px">Email: <strong>sales@swegam.gm</strong></div>
      </div>
      <div>
        <button class="btn-order" onclick="openWhatsApp('Hello Swe-Gam, I want to discuss supply and installation')">Message +220 763 3543</button>
      </div>
    </div>
  </section>

  <!-- FLOATING WHATSAPP BUTTON -->
  <button class="float-wa" aria-label="Order on WhatsApp" id="floatWA">ðŸ’¬ Order: +220 763 3543</button>

  <!-- MODAL -->
  <div class="backdrop" id="backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div style="display:flex;justify-content:flex-end"><button class="close-btn" id="closeModal">âœ•</button></div>
      <div class="modal-grid">
        <div>
          <div class="img-large" id="modalImg"><img src="" alt="" style="width:100%;height:100%;object-fit:cover;border-radius:8px"/></div>
        </div>
        <div>
          <h2 id="modalTitle">Product</h2>
          <div style="display:flex;gap:10px;align-items:center;margin-top:8px">
            <div class="price" id="modalPrice">D0</div>
            <div class="small" id="modalOrigin">Origin</div>
          </div>
          <p id="modalShort" class="small" style="margin-top:10px"></p>

          <ul id="modalSpecs" class="spec-list"></ul>

          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="btn-order" id="modalOrder">Order on WhatsApp</button>
            <button class="btn-ghost" id="modalQuote">Request Quote</button>
          </div>

          <div class="small" style="margin-top:12px" id="modalSource"></div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    Â© Swe-Gam Co. Ltd â€” Pumps, Solar & Tools â€¢ Orders via WhatsApp +220 763 3543
  </footer>

  <!-- =========================
       Scripting: product data, render, filters, WA integration
       Edit PRODUCTS array to update items
       ========================= -->
  <script>
    /* ---------- CONFIG: update these if needed ---------- */
    const SALES_PHONE_DISPLAY = '+220 763 3543'; // display for UI
    const SALES_PHONE_WA = '2207633543';         // digits only for wa.me links

    /* ---------- PRODUCTS: one item per subcategory ---------- */
    // Replace images with Swe-Gam images (hosted) for production.
    const PRODUCTS = [
      // Water Solutions
      { id:'afri-2hp', category:'Water Solutions', sub:'Submersible Pumps', title:'Afripump Submersible 2.0 HP', price:18500, origin:'South Africa', img:'https://images.unsplash.com/photo-1581093588401-9f7e1d4c6fcd?q=80&w=1600&auto=format&fit=crop', short:'2.0 HP submersible for borehole use. 220V, copper windings. Ideal for irrigation.', specs:['2.0 HP','220V single-phase','Max head: 55m','IP68'], source:'Distributor listing' },
      { id:'shurflo-12v', category:'Water Solutions', sub:'12V Pumps', title:'Shurflo 12V Diaphragm Pump 4008', price:2800, origin:'USA', img:'https://images.unsplash.com/photo-1603398938378-45f3f7a1e0d8?q=80&w=1600&auto=format&fit=crop', short:'12V DC water pump for small irrigation and domestic systems.', specs:['12V DC','Max 3 GPM','Self-priming'], source:'Retail listing' },
      { id:'hand-afridev', category:'Water Solutions', sub:'Hand Pumps', title:'Afridev Community Hand Pump', price:4800, origin:'Local', img:'https://images.unsplash.com/photo-1578926372263-3f0f8a2ad6d9?q=80&w=1600&auto=format&fit=crop', short:'Durable manual pump for rural wells and community boreholes.', specs:['Manual','Up to 60m lift','Cast iron'], source:'NGO supplier' },

      // Solar Energy
      { id:'panel-350', category:'Solar Energy', sub:'Solar Panels', title:'350W Solar Panel (Poly)', price:5500, origin:'China', img:'https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1600&auto=format&fit=crop', short:'350W PV module suitable for pump systems.', specs:['350W','MC4 connectors','Dimensions ~1.7m x 1m'], source:'Solar supplier' },
      { id:'mppt-30', category:'Solar Energy', sub:'Controllers', title:'MPPT Solar Controller 30A', price:2200, origin:'China', img:'https://images.unsplash.com/photo-1554415707-6e8cfc93fe23?q=80&w=1600&auto=format&fit=crop', short:'MPPT controller to maximize solar output and battery charge.', specs:['30A MPPT','12/24V auto','LCD display'], source:'Electronics supplier' },
      { id:'kit-1hp', category:'Solar Energy', sub:'Pump Kits', title:'Solar Water Pump Kit 1 HP', price:28000, origin:'Mixed', img:'https://images.unsplash.com/photo-1509395176048-6a6f4f1b2c3d?q=80&w=1600&auto=format&fit=crop', short:'Complete kit: pump, panels, MPPT controller & mounting hardware.', specs:['1 HP pump','Panels incl.','Controller & wiring'], source:'Kit vendor' },

      // Garden & Forestry
      { id:'husq-445', category:'Garden & Forestry', sub:'Chainsaws', title:'Husqvarna 445 â€” 18" Chainsaw', price:26500, origin:'Sweden', img:'https://images.unsplash.com/photo-1582719478260-0c3f6f7f8b8f?q=80&w=1600&auto=format&fit=crop', short:'Lightweight forestry chainsaw for farm & professional use.', specs:['50.2 cc','18" bar','SmartStart'], source:'Husqvarna' },
      { id:'brush-52', category:'Garden & Forestry', sub:'Brush Cutters', title:'Petrol Brush Cutter 52cc', price:6800, origin:'China', img:'https://images.unsplash.com/photo-1597764698213-6d1b2f0a9f2c?q=80&w=1600&auto=format&fit=crop', short:'Robust cutter for clearing and maintenance.', specs:['52 cc','Harness included','2-stroke'], source:'Tool vendor' },
      { id:'lawn-21', category:'Garden & Forestry', sub:'Lawn Mowers', title:'Push Lawn Mower 21" Deck', price:8200, origin:'International', img:'https://images.unsplash.com/photo-1582719478272-1c2d3e4f5a6b?q=80&w=1600&auto=format&fit=crop', short:'Sturdy 4-stroke push mower for large lawns.', specs:['21" deck','Adjustable height','4-stroke engine'], source:'Garden retailer' },

      // Power Tools / Industrial
      { id:'drill-800', category:'Power Tools', sub:'Drilling Machines', title:'Hammer Drill 800W (SDS+)', price:3200, origin:'China', img:'https://images.unsplash.com/photo-1571171637578-41bc2dd41cd2?q=80&w=1600&auto=format&fit=crop', short:'SDS+ hammer drill for concrete & heavy work.', specs:['800W','SDS+ chuck','Variable speed'], source:'Tool catalog' },
      { id:'cutoff-14', category:'Power Tools', sub:'Cutting Machines', title:'Cut-off Saw 14" â€” Petrol/Electric', price:7500, origin:'International', img:'https://images.unsplash.com/photo-1581091012188-8a2b3c4d5e6f?q=80&w=1600&auto=format&fit=crop', short:'High torque cut-off saw for metal & stone cutting.', specs:['14" blade','Portable','High torque'], source:'Industrial supplier' },
      { id:'gen-5kva', category:'Power Tools', sub:'Generators', title:'Portable Generator 5 kVA', price:28000, origin:'China', img:'https://images.unsplash.com/photo-1497215842964-222b430dc094?q=80&w=1600&auto=format&fit=crop', short:'Reliable backup power for sites & pumps.', specs:['5 kVA','Electric start','Fuel tank 25L'], source:'Power equipment' },

      // Pipes & Fittings
      { id:'pvc-110', category:'Pipes & Fittings', sub:'PVC Pipes', title:'PVC Pressure Pipe 110 mm (per meter)', price:250, origin:'Malaysia', img:'https://images.unsplash.com/photo-1580910051071-6f5b5b5c6d7a?q=80&w=1600&auto=format&fit=crop', short:'KWH-style pressure pipe for irrigation & pressure lines.', specs:['110 mm OD','PVC-U','Pressure rated'], source:'Pipe supplier' },
      { id:'elbow-110', category:'Pipes & Fittings', sub:'Fittings', title:'PVC Elbow 90Â° 110 mm', price:45, origin:'Local', img:'https://images.unsplash.com/photo-1580910051072-7c6d7a8b9c0a?q=80&w=1600&auto=format&fit=crop', short:'Standard 90Â° elbow for irrigation plumbing.', specs:['110 mm','PVC-U','Pressure rated'], source:'Local hardware' },
      { id:'hose-25', category:'Pipes & Fittings', sub:'Hoses', title:'Irrigation Hose 25 mm (per meter)', price:18, origin:'China', img:'https://images.unsplash.com/photo-1581092385236-7d9b6c2c3b12?q=80&w=1600&auto=format&fit=crop', short:'Flexible irrigation hose for drip & sprinkler systems.', specs:['25 mm','UV resistant','Per meter'], source:'Irrigation supplier' },

      // Spare Parts & Accessories
      { id:'filter-01', category:'Spare Parts', sub:'Filters', title:'Pump Inlet Filter â€” Stainless Mesh', price:350, origin:'China', img:'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=1600&auto=format&fit=crop', short:'Mesh filter for pump inlet protection.', specs:['Stainless mesh','Universal fit','Easy clean'], source:'Marketplace' },
      { id:'controller-kit', category:'Spare Parts', sub:'Controllers', title:'Pump Controller Unit (Auto)', price:3200, origin:'Italy', img:'https://images.unsplash.com/photo-1518182170545-2d4cc9f2c0b6?q=80&w=1600&auto=format&fit=crop', short:'Automatic controller to protect pumps and manage start/stop.', specs:['Auto-start/stop','Dry-run protection','LCD'], source:'Parts supplier' },

      // Services as products (bookings)
      { id:'svc-drill', category:'Services', sub:'Borehole', title:'Borehole Drilling â€” Site Quote', price:0, origin:'Local', img:'https://images.unsplash.com/photo-1508873699372-7ae4c9a9b0b3?q=80&w=1600&auto=format&fit=crop', short:'Drilling, casing, pump install & testing â€” final price after site assessment.', specs:['Site survey','Drilling & casing','Commissioning'], source:'Swe-Gam Services' },
      { id:'svc-install', category:'Services', sub:'Installation', title:'Pump & Solar Installation (Per site)', price:2500, origin:'Local', img:'https://images.unsplash.com/photo-1518182170545-2d4cc9f2c0b6?q=80&w=1600&auto=format&fit=crop', short:'Professional installation & commissioning by certified technicians.', specs:['Onsite installation','Testing','Local support'], source:'Swe-Gam Services' }
    ];

    /* ---------- STATE ---------- */
    let state = { category:'', origin:'', q:'', min: null, max: null, sort:'featured' };

    /* ---------- DOM refs ---------- */
    const catalog = document.getElementById('catalog');
    const categoryList = document.getElementById('categoryList');
    const originList = document.getElementById('originList');
    const searchBox = document.getElementById('search');
    const resultsInfo = document.getElementById('resultsInfo');
    const minPriceInput = document.getElementById('minPrice');
    const maxPriceInput = document.getElementById('maxPrice');
    const applyPrice = document.getElementById('applyPrice');
    const resetFilters = document.getElementById('resetFilters');
    const sortBy = document.getElementById('sortBy');

    /* ---------- Init categories & origins ---------- */
    const categories = Array.from(new Set(PRODUCTS.map(p=>p.category)));
    const origins = Array.from(new Set(PRODUCTS.map(p=>p.origin)));

    function makeCatButton(text, active=false){
      const el = document.createElement('div');
      el.className = 'cat-button' + (active? ' active':'');
      el.textContent = text;
      el.onclick = ()=> { setCategory(text==='All'?'':text); };
      return el;
    }

    categoryList.appendChild(makeCatButton('All', true));
    categories.forEach(c => categoryList.appendChild(makeCatButton(c)));

    originList.appendChild(makeCatButton('All', true));
    origins.forEach(o => originList.appendChild(makeCatButton(o)));

    function setCategory(cat){
      state.category = cat;
      // update active classes
      [...categoryList.children].forEach(n => n.classList.toggle('active', n.textContent=== (cat||'All')));
      render();
    }
    function setOrigin(org){
      state.origin = org;
      [...originList.children].forEach(n => n.classList.toggle('active', n.textContent=== (org||'All')));
      render();
    }

    // origin buttons wiring
    [...originList.children].forEach(node => node.onclick = ()=> {
      const txt = node.textContent;
      setOrigin(txt==='All'?'':txt);
    });

    // search & filters
    searchBox.addEventListener('input', e => { state.q = e.target.value; debounce(render, 180) });
    applyPrice.addEventListener('click', ()=> {
      state.min = minPriceInput.value ? Number(minPriceInput.value) : null;
      state.max = maxPriceInput.value ? Number(maxPriceInput.value) : null;
      render();
    });
    resetFilters.addEventListener('click', ()=> {
      state = { category:'', origin:'', q:'', min:null, max:null, sort:'featured' };
      searchBox.value=''; minPriceInput.value=''; maxPriceInput.value=''; sortBy.value='featured';
      [...categoryList.children].forEach(n => n.classList.toggle('active', n.textContent==='All'));
      [...originList.children].forEach(n => n.classList.toggle('active', n.textContent==='All'));
      render();
    });
    sortBy.addEventListener('change', ()=> { state.sort = sortBy.value; render(); });

    // debounce helper
    let dd;
    function debounce(fn, ms=200){ clearTimeout(dd); dd = setTimeout(fn, ms); }

    /* ---------- Rendering ---------- */
    function formatGMD(n){
      if(!n) return (n===0? 'Quote':'â€”');
      return 'D' + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function render(){
      const q = (state.q||'').toLowerCase().trim();
      let list = PRODUCTS.filter(p=>{
        if(state.category && p.category!==state.category) return false;
        if(state.origin && p.origin!==state.origin) return false;
        if(state.min !== null && p.price && p.price < state.min) return false;
        if(state.max !== null && p.price && p.price > state.max) return false;
        if(q){
          const hay = (p.title + ' ' + p.short + ' ' + (p.specs||[]).join(' ')).toLowerCase();
          if(!hay.includes(q)) return false;
        }
        return true;
      });

      // sorting
      if(state.sort === 'priceAsc') list.sort((a,b)=> (a.price||0)-(b.price||0));
      else if(state.sort === 'priceDesc') list.sort((a,b)=> (b.price||0)-(a.price||0));
      else list.sort((a,b)=> (a.title>b.title?1:-1)); // simple default

      catalog.innerHTML = '';
      if(list.length===0){
        catalog.innerHTML = '<div class="small center" style="padding:30px">No items matched your filters.</div>';
        resultsInfo.textContent = '0 items';
        return;
      }
      resultsInfo.textContent = `${list.length} items`;

      list.forEach(p=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="img"><img loading="lazy" src="${p.img}" alt="${escapeHtml(p.title)}"></div>
          <h3>${escapeHtml(p.title)}</h3>
          <div class="meta"><div class="muted">${escapeHtml(p.origin)} â€¢ ${escapeHtml(p.sub)}</div><div class="price">${formatGMD(p.price)}</div></div>
          <div class="specs">${escapeHtml(p.short)}</div>
          <div class="actions">
            <button class="btn-ghost" onclick="openDetail('${p.id}')">Details</button>
            <button class="btn-order" onclick="orderWhatsApp('${p.id}')">Order</button>
            <button class="btn-ghost" onclick="quoteWhatsApp('${p.id}')">Quote</button>
          </div>`;
        catalog.appendChild(card);
      });
    }

    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    // initial render
    render();

    /* ---------- MODAL / DETAILS ---------- */
    const backdrop = document.getElementById('backdrop');
    const modalImg = document.getElementById('modalImg').querySelector('img');
    const modalTitle = document.getElementById('modalTitle');
    const modalPrice = document.getElementById('modalPrice');
    const modalOrigin = document.getElementById('modalOrigin');
    const modalShort = document.getElementById('modalShort');
    const modalSpecs = document.getElementById('modalSpecs');
    const modalSource = document.getElementById('modalSource');
    const closeModal = document.getElementById('closeModal');
    const modalOrder = document.getElementById('modalOrder');
    const modalQuote = document.getElementById('modalQuote');

    window.openDetail = function(id){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      modalImg.src = p.img;
      modalTitle.textContent = p.title;
      modalPrice.textContent = formatGMD(p.price);
      modalOrigin.textContent = p.origin + ' â€¢ ' + p.sub;
      modalShort.textContent = p.short || '';
      modalSpecs.innerHTML = (p.specs||[]).map(s=>`<li>â€¢ ${escapeHtml(s)}</li>`).join('');
      modalSource.textContent = 'Source: ' + (p.source || 'N/A');
      modalOrder.onclick = ()=> orderWhatsApp(id);
      modalQuote.onclick = ()=> quoteWhatsApp(id);

      backdrop.style.display = 'flex';
      backdrop.setAttribute('aria-hidden','false');
    }
    closeModal.addEventListener('click', ()=> { backdrop.style.display='none'; backdrop.setAttribute('aria-hidden','true'); });
    backdrop.addEventListener('click', (e)=> { if(e.target===backdrop){ backdrop.style.display='none'; backdrop.setAttribute('aria-hidden','true'); } });

    /* ---------- WHATSAPP & ORDER FLOWS ---------- */
    function openWhatsAppWithMessage(msg){
      const url = `https://wa.me/${SALES_PHONE_WA}?text=${encodeURIComponent(msg)}`;
      window.open(url,'_blank');
    }

    window.orderWhatsApp = function(id){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      const message = `Order request - Swe-Gam
Product: ${p.title}
Price (listed): ${p.price? 'D'+p.price : 'Quote'}
Origin: ${p.origin}
Please confirm availability, delivery cost and payment options (Wave / QMoney).
Delivery address:
Quantity: `;
      openWhatsAppWithMessage(message);
    }

    window.quoteWhatsApp = function(id){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      const message = `Quotation request - Swe-Gam
Item: ${p.title}
Specs: ${p.specs? p.specs.join(', '): ''}
Please provide a site-visit quote including installation.
Contact name:
Contact phone: `;
      openWhatsAppWithMessage(message);
    }

    // floating WA button
    document.getElementById('floatWA').addEventListener('click', ()=> openWhatsAppWithMessage('Hello Swe-Gam, I want to place an order or request a quote.'));

    // contact & hero quick WA buttons
    function openWhatsApp(msg){ openWhatsAppWithMessage(msg); }

    // helper: search from other UI elements
    document.querySelectorAll('.cat-button').forEach(btn => btn.onclick = ()=> {
      const txt = btn.textContent;
      setCategory(txt==='All'?'':txt);
    });

    /* ---------- Small helpers: populate origin list onclicks ---------- */
    [...originList.children].forEach(node=>{
      node.onclick = ()=> {
        const txt = node.textContent;
        setOrigin(txt==='All'?'':txt);
      }
    });

    /* ---------- Console note ---------- */
    console.info('Swe-Gam demo catalog loaded. To update items, edit PRODUCTS array inside index.html. WhatsApp number used: ' + SALES_PHONE_DISPLAY);
  </script>
</body>
</html>